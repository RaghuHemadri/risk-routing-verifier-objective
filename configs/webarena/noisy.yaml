# WebArena Noisy Configuration (SLM-AgentGym perturbations)
defaults:
  - ../base

benchmark: webarena

webarena:
  env:
    base_url: ${oc.env:WEBARENA_BASE_URL,http://localhost}
    sites:
      - shopping
      - reddit
      - gitlab
      - wikipedia
      - map
    headless: true
    viewport_width: 1280
    viewport_height: 720
    slow_mo: 0
    timeout: 30000

  tasks:
    template_ids: null
    max_tasks: null
    action_grammar: webarena

  observation:
    type: accessibility_tree
    max_tokens: 4096
    include_url: true

  evaluation:
    exact_match: true
    must_include: true
    fuzzy_match: true
    url_match: true

data:
  num_teacher_trajectories: 500
  num_perturbation_seeds: 20
  max_episode_steps: 30

# Full perturbation suite enabled
perturbations:
  tool_flakiness:
    enabled: true
    failure_prob: 0.15
    timeout_prob: 0.05
    stale_cache_prob: 0.10
    result_shuffle_prob: 0.20
    partial_response_prob: 0.10
    result_drop_fraction: [0.1, 0.5]

  partial_observability:
    enabled: true
    dom_hide_prob: 0.15
    dom_reorder_prob: 0.10
    attribute_strip_prob: 0.10
    log_truncation_prob: 0.20
    log_line_drop_prob: 0.10
    info_mask_prob: 0.05

  prompt_injection:
    enabled: true
    direct_injection_prob: 0.15
    indirect_injection_prob: 0.10
    goal_hijack_prob: 0.05
    exfiltration_attempt_prob: 0.05
    role_confusion_prob: 0.05
    encoded_injection_prob: 0.03

  distractors:
    enabled: true
    semantic_distractor_prob: 0.20
    red_herring_prob: 0.15
    decoy_element_prob: 0.10
    plausible_wrong_prob: 0.10
